---
import Popup from '../components/Popup.astro';
import PopupMenuHeader from '../components/PopupMenuHeader.astro';
import PopupMenuFooter from '../components/PopupMenuFooter.astro';
import PopupLogin from '../components/PopupLogin.astro';
import PopupProfileTel from '../components/PopupProfileTel.astro';
import PopupProfileName from '../components/PopupProfileName.astro';

const {page, isUser = true} = Astro.props;
---

<aside class="popups" data-popup-backdrop hidden="hidden">
  <link rel="stylesheet" href="./components/popups.css"/>
  <Popup name="menu-header" title="Каталог" bgLight={true}>
    <PopupMenuHeader/>
  </Popup>
  <Popup name="menu-footer" title="Меню" bgLight={true}>
    <PopupMenuFooter/>
  </Popup>

  {!isUser &&
    <Popup name="login" title="Вход" bgLight={false}>
      <PopupLogin/>
    </Popup>}

  {isUser && 'profile' === page &&
    <Popup name="profile-tel" title="Изменение номера" bgLight={false}>
      <PopupProfileTel/>
    </Popup>}

  {isUser && 'profile' === page &&
    <Popup name="profile-name" title="Личные данные" bgLight={false}>
      <PopupProfileName/>
    </Popup>}

  <script src="./components/popups.js" is:inline async></script>
</aside>
