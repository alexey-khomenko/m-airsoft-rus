---
import Popup from './Popup.astro';

import PopupMenuHeader from './PopupMenuHeader.astro';
import PopupMenuFooter from './PopupMenuFooter.astro';
import PopupLogin from './PopupLogin.astro';
import PopupChangeTel from './PopupChangeTel.astro';

const {page, isUser = true} = Astro.props;
---

<aside class="popups" data-popup-backdrop hidden="hidden">
  <link rel="stylesheet" href="./components/popups.css"/>
  <Popup name="menu-header" title="Каталог" bgLight={true}>
    <PopupMenuHeader/>
  </Popup>
  <Popup name="menu-footer" title="Меню" bgLight={true}>
    <PopupMenuFooter/>
  </Popup>

  {!isUser &&
    <Popup name="login" title="Вход" bgLight={false}>
      <PopupLogin/>
    </Popup>}

  {isUser && 'profile' === page &&
    <Popup name="change-tel" title="Изменение номера" bgLight={false}>
      <PopupChangeTel/>
    </Popup>}

  <script src="./components/popups.js" is:inline async></script>
</aside>
